<?php


namespace App\Http\Controllers\LessonControllers;


use App\Http\Controllers\Controller;
use App\Models\Lesson;
use App\Models\Subject;

class ShowFormController extends Controller
{
    public function showForm($title)
    {
        $aiService = new \App\Services\AiService();
        $result = $aiService->ans("Определение предметной области;
Анализ ключевых бизнес-процессов;", "  1. Определение предметной области:
        1.1. Анализ предметной области:
            1.1.1. Основные процессы: прием заказов, проектирование мебели, закупка материалов, производство мебели, контроль качества, складской учет, доставка, продажа, управление финансами (бухгалтерия), управление персоналом.
            1.1.2. Роли и пользователи:
    • Менеджер по продажам: принимает заказы, консультирует клиентов, формирует коммерческие предложения.
    • Дизайнер: разрабатывает дизайн мебели, создает чертежи и 3D-модели.
    • Технолог: планирует процесс производства, определяет необходимые материалы и оборудование.
    • Производственный персонал: изготавливает мебель.
    • Менеджер склада: управляет складскими запасами.
    • Водитель: доставляет готовую мебель клиентам.
    • Бухгалтер: ведет финансовый учет.
    • Администратор системы: управляет и обслуживает информационную систему.
            1.1.3. Основные данные:
    • Информация о клиентах: контактные данные, история заказов.
    • Информация о заказе: номер заказа, дата заказа, описание мебели, материалы, цена, статус заказа, чертежи, 3D-модели.
    • Информация о материалах: наименование, цена, количество на складе, поставщики.
    • Информация о сотрудниках: должность, контактные данные.
    • Информация о производстве: этапы производства, сроки выполнения, материалы, используемые инструменты.
    • Информация о финансах: затраты на материалы, заработная плата, прибыль, платежи.
    • Информация о доставке: адрес доставки, дата доставки, статус доставки.
            1.1.4. Внешние системы: Система бухгалтерского учета (1С, например). Система управления взаимоотношениями с клиентами (CRM). Система электронного документооборота. Сервисы доставки (например, курьерские службы). Поставщики материалов (возможно интеграция для автоматического заказа).
    2.  Анализ ключевых бизнес-процессов: Здесь рассмотрим три ключевых процесса:
        2.1. Ключевые бизнес-процессы:
    1) Процесс Прием и обработка заказа:
    • Стартовые условия: Клиент обращается в компанию с запросом на изготовление мебели.
    • Основные шаги:
    1. Менеджер по продажам принимает заявку от клиента, уточняет детали заказа.
    2. Дизайнер разрабатывает проект мебели (чертежи, 3D-модели).
    3. Менеджер по продажам согласовывает проект с клиентом и формирует коммерческое предложение.
    4. Клиент утверждает коммерческое предложение и вносит предоплату.
    5. Заказ переходит в статус В работе.
    • Результаты процесса: Создан и утвержден заказ с полной спецификацией, включая чертежи, 3D-модели, стоимость и сроки изготовления.
    2) Процесс Производство мебели:
    • Стартовые условия: Заказ переведен в статус В работе.
    • Основные шаги:
    1. Технолог планирует процесс производства, определяет необходимые материалы и оборудование.
    2. Производственный персонал изготавливает мебель согласно чертежам.
    3.  Контроль качества на каждом этапе производства.
    • Результаты процесса: Готовая мебель, соответствующая чертежам и стандартам качества.
    3) Процесс Доставка и оплата:
    • Стартовые условия: Мебель готова к доставке.
    • Основные шаги:
    1. Организация доставки с помощью собственного транспорта или курьерской службы.
    2. Доставка мебели клиенту.
    3. Клиент оплачивает оставшуюся сумму.
    4. Заказ переходит в статус Выполнен.
    • Результаты процесса: Мебель доставлена клиенту, оплата получена. ");
        dd($result);
        /*
        $subjects = Subject::all();
        $lesson = Lesson::where('title', $title)->first();
        return view('frontend.pages.answer-form',
            compact('subjects', 'lesson'));
        */
    }

    public function create()
    {

    }
}
